<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>史上最详细GTASA修改教程 | 蝈蝈影视公司</title><meta name=keywords content><meta name=description content="Desc Text."><meta name=author content="蝈总"><link rel=canonical href=https://canonical.url/to/page><link crossorigin=anonymous href=/MyBlog/assets/css/stylesheet.min.bd03b36c39adbc00eafcc5f0ba22ec2b9b908daa76cb014eb396e4da8a18f41b.css integrity="sha256-vQOzbDmtvADq/MXwuiLsK5uQjap2ywFOs5bk2ooY9Bs=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/MyBlog/assets/js/highlight.min.e85ad0406048e8176e1c7661b25d5c69297ddfe41dc4124cf75ecb99a4f7b3d1.js integrity="sha256-6FrQQGBI6BduHHZhsl1caSl93+QdxBJM917LmaT3s9E=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://Katock-Cricket.github.io/MyBlog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://Katock-Cricket.github.io/MyBlog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://Katock-Cricket.github.io/MyBlog/favicon-32x32.png><link rel=apple-touch-icon href=https://Katock-Cricket.github.io/MyBlog/apple-touch-icon.png><link rel=mask-icon href=https://Katock-Cricket.github.io/MyBlog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="史上最详细GTASA修改教程"><meta property="og:description" content="Desc Text."><meta property="og:type" content="article"><meta property="og:url" content="https://Katock-Cricket.github.io/MyBlog/posts/gtasa/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-07-04T18:22:32+08:00"><meta property="article:modified_time" content="2022-07-04T18:22:32+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="史上最详细GTASA修改教程"><meta name=twitter:description content="Desc Text."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://Katock-Cricket.github.io/MyBlog/posts/"},{"@type":"ListItem","position":3,"name":"史上最详细GTASA修改教程","item":"https://Katock-Cricket.github.io/MyBlog/posts/gtasa/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"史上最详细GTASA修改教程","name":"史上最详细GTASA修改教程","description":"Desc Text.","keywords":[],"articleBody":" 蕾米镇楼\n​\t话说在前面，本教程只针对PC（我没关注过安卓，可能有差别），涵盖内容非常之大，意在尝试一劳永逸地解决所有关于GTASA的MOD安装相关问题，这么多年的老游戏了还是不断地有小白尝试搞懂怎么装各种MOD。为了容易看懂，我尽量通俗地描述。仔细看完这篇文章，我相信你的疑惑八成就解决的差不多了，即使以后还遇到其他问题也能自己尝试一些解决办法。我会分以下几个方面介绍：\n​ 观前提醒：任何替换操作都有可能失败，注意备份原文件！\n[TOC]\n游戏文件组成 文件类型 cfg：配置文件，存放用户设置、配置数据，游戏里用于存放各种参数，例如载具速度等； ide：功能同cfg，存储数据参数，例如武器伤害值等； dat：一般系统会把它识别成媒体文件，这是因为它大多是MPG格式转换成的。但SA的dat文件也只是一种广义的配置文件，同cfg和ide，存储数据或记录； ifp：专属于R星公司开发游戏的文件，存储动作（动画）信息，例如人物走路姿势； img：对OS熟悉的应该知道，这是一种镜像文件，可以理解成把光盘软盘上的内容压缩归档，变成了这种数字格式。SA的img文件有压缩模型文件的，也有压缩动画文件的，可以理解成一些同类文件的压缩文件；（不要忘记SA最早是PS2平台的，有这种奇怪格式的东西并不奇怪） ico/icn：顾名思义图标文件； ipl文件：全称Item Placement File，专属于R星开发游戏的格式，存储各种位置信息，例如加特林的刷新地点，一般轮不着我们直接修改，一些地图MOD才会用到； fxp：这个我没怎么看懂，不过它是用来存储一些特效的，例如开枪的火光和爆炸等； gxt：字体文件； dff：一般系统会把它识别成音乐，但SA的dff是3D模型文件，像obj, ply等文件一样存储3D模型信息； txd：与dff文件配套的贴图文件 游戏文件 打开游戏根目录，有这样几个文件需要了解：\nanim文件夹\nanim.img：存储一些动作文件，例如驾驶载具时CJ的姿势； cuts.img：过场动画里任务的动作文件； ped.ifp：一般游戏过程中CJ和NPC的姿势，例如走路； audio文件夹：\n这是区分完整版和阉割版的重要证据，完整版游戏有全套声音，包括过场动画和电台音乐都在audio里，而且audio占了90%的存储空间，完整版游戏至少3.8G左右；\nSFX：里面的文件都是特殊编码（其实不复杂）的音效文件，一般的软件无法将其解码； stream：同上，它里面大部分是音乐文件和过场动画的音效； data文件夹：\n大部分不必深究，大型MOD都是直接覆盖，犯不着你自己去一个个修改。经常手动修改的无非如下几个\ncarcols.dat/ carmods.dat/ handling.cfg/ vehicles.ide：车辆数据，总体上都是牵一发而动全身的危险数据，网上有修改handling.cfg文件的教程但是不权威，我建议尽量不要自己单独改某一个文件，会引发很多乱七八糟的问题； weapon.dat：武器数据，建议同上，除了伤害值这些耦合性较低的参数可以自己改着玩一玩，其他不建议自己乱改； *grp.dat：星号代表可以有多种前缀，这种文件存储了游戏物体的刷出特性，例如什么地方什么时间会刷出什么东西来，我做《侠盗终章》大电影的时候就是修改了这类文件，达到了午夜也能刷出很多人和车发生暴动的效果； models文件夹：\n顾名思义它就是存储了游戏模型和贴图等文件的地方，只需要记住三个文件在这里：\ngta3.img：车辆npc等常用模型 cutscene.img：过场动画的模型 player.img：主角的模型，包括各种服饰 NPC模型替换 通过上面的解析应该已经知道，游戏过程和过场动画用的是两套模型，非过场动画过程中的npc是一般npc\n一般NPC的替换 一般NPC的模型都在gta3.img里，每个模型都包括同名的dff和txd。比如最常见的卡车司机NPC，名字是male01，那么它的模型文件就是male01.dff和male01.txd：\nSA如何确定“这个模型是这个npc的模型”的呢？其实就是通过它的名字。\n所以如果要将这个NPC替换成你喜欢的人物（例如胡桃），做法是这样的：想必你已经下载了胡桃的MOD，里面可以找到HuTao.dff和Hutao.txd，那就把这俩文件重命名为male01.dff和male01.txd，替换掉gta3.img中的原有文件。然后启动游戏，就能发现所有卡车司机都变成了胡桃。如何打开和修改img文件，后面的工具介绍有。\n过场动画的替换 过场动画的模型都在cutscene,img里，如果你打开这个img就会发现大部分模型都有cs前缀，是cutscene的缩写。这里有一个不太广泛但是可以记一下的规律，就是对于过场动画和一般场景下都出现过的npc，他们的名字往往都只有一个“cs”前缀的差别，例如斯威特在gta3.img里叫sweet.dff/txd，在cutscene.img里就叫cssweet.dff/txd。当然也有不少例外，比如大结局里穿防弹衣的斯莫克，在gta3.img里叫smokev.dff/txd，在cutscene.img里就成了cssmokevest.dff/txd。\n过场动画和一般过程用的模型有一点差别，有时候是无法通用同一个mod的。一般过程的模型兼容性较好，换成别的mod不容易出问题，但是过场动画不能保证。\n主角模型替换 主角是模型替换里最复杂的一个，目前有两种办法：\n一种是某些mod就是专门针对替换主角的，他们提供的文件可能只有一个player.img，那这就比较简单了，直接替换原来的player.img就完事儿，但是网上支持这样做的MOD非常少，所以我们接下来的讨论都是针对另一种方法的；\n另一种是借助更换人物cleo和一对dff/txd文件，实现用一个简单模型替换掉复杂的主角模型。\n但是能否替换掉过场动画里主角的模型，还是取决于更换人物cleo的功能，因为单纯的替换游戏dff/txd模型是难以修改过场动画的主角的。这方面的cleo可以来我群里拿。（文末）\n车辆模型替换 车辆模型也是由dff和txd组成的，而且基本都在gta3.img里，替换起来并不复杂。而且在游戏过程中，主角登上一辆载具的同时，右下角会显示载具的名字，90%的载具文件名和本身的名字是一样的。\n对车辆MOD感兴趣的可以专门背一背车辆表，每一个车辆都有自己的编号和名字，例如牛肉干NRG500就是522号，九头蛇（秘籍JUMPJET）就是521号，著名的炼狱魔TURISMO就是451号。在SAMP和一些刷车器中，就是通过提供车辆编号来刷出对应车辆的。这些编号在vehicles.ide中能查到（如图）。当然贴吧也有盘点。\n有一些车辆MOD会附带一个名为ImVehFt的文件夹，这个是车灯系统，需要安装ImVehFt“主程序”才能起作用。推荐工具里有教程，它是依附于cleo主程序的。\n还有一些车辆MOD会附带车辆数据（往往在readme.txt里），参见下面的该数据注意事项。\n（如图是同时具有ImVehFt和数据的MOD车包）\n数据文件修改 一般这种事情交给专门搞MOD的大神做就完事，我也尝试过但是并没有彻底搞明白，因为稍有不慎就容易给改废了。但是如果是自己随便改着玩玩，可以试试改如下几个属性：\n在handling.cfg中，随便找到一行：\nTURISMO 1400.0 3000.0 2.0 0.0 -0.3 -0.2 70 0.75 0.85 0.45 5 240.0 30.0 10.0 4 P 11.0 0.51 0 30.0 1.2 0.13 0.0 0.15 -0.20 0.5 0.4 0.17 0.72 95000 40002004 C08401 1 1 1 其中容易理解的属性对应如下：\n属性 数值 说明 名字 TURISMO 车辆名字，这个不能改，用来检索的 重量 1400和3000 大多网络资料有误，应该是由两个数据控制，越大越重，太大可能溢出 4-12列 2.0~0.45 车辆尺寸重心等其他数据，比较玄学，尽量不要大幅度改 档数 5 这车最高能挂几档，玩家的直观感受就是开车加速时车辆“嗡”的次数 最高速 240 最高时速，可以改到365试试，这个速度你已经把握不住了，别太贪心 加速度 30和10 大多网络资料有误，应该是由两个数据控制，可以改到四五十试试 驱动 4 F前驱，R后驱，4四驱，没有别的选项，四驱是手感最舒服的 发动机 P P汽油机，D柴油机，E电动机，汽油就行，柴油可能有抖动 … 其他数据 刹车性能、刹车偏向、悬挂等参数，我没研究了，自行研究吧 画质补丁安装 所有MOD里，画质补丁是最容易安装失败的，画质补丁增加和替换了很多文件。\n一方面是因为SA也有版本的区别，不同版本的SA对同一画质补丁兼容性不一样，可能别人能用的画质补丁到你这干脆打不开游戏；\n一方面是因为电脑性能不同，高级一些的画质补丁会对电脑硬件配置提出很高的要求，其中材质包吃显存、光影特效吃运算，可能你下好了画质补丁但是又会因为太卡就后悔了；\n另一方面是因为宣传和实际效果往往不一样，每一个画质补丁都有自己的缺点，就看你能不能接受了。\n我个人的理解是，SA画质补丁就是往老引擎添加新东西，是一种极度牺牲优化的做法，所以不要指望有又流畅又华丽的画质补丁。\n以我的个人经验，如果要畅玩全网90%的画质补丁，你需要具备7代i7及以上的CPU，GTX1060/1650及以上的显卡，游戏最好装在固态硬盘上。我个人不太喜欢玩画质补丁，只是偶尔作一下死。\n安装方面，一般画质补丁都给你整理好了，直接把里面的东西覆盖到原目录就行，但是记得备份！\n其他内容替换 音乐音效 这方面的替换并不多见，而且现成的MOD也不多，不过我也说一下怎么换吧。\n这种MOD分两种，一种是直接发给你编码完成的音轨，直接替换掉原有文件就行，记得备份；（如图这种）\n另一种是提供给你wav或ogg文件，你要么得用挂载器，要么得用音频转换工具把它重新编码然后替换原文件。（如图这种注意看目录结构）\n一般的CLEO或补丁 CLEO就是扩展脚本，每个cleo都包含了一个.cs文件，用于修改一些游戏运行机制，例如一键回血。装好CLEO主程序后把cs文件放入游戏目录的cleo文件夹就完事，可能还有一些fxt文件，放到cleo/cleo_text里就完事。\n一般的补丁可能是asi、dat、dll文件，在游戏开始启动时提供额外的加载项，把他们放到游戏目录就完事，前提是要有CLEO主程序。\n运行疑难解答 如果你的SA是什么都没改过的纯净版，然后在电脑上运行不了，这种问题是系统兼容性问题，尝试一下这样设置：如果还不行的话建议换一个版本的SA，兼容性好的版本几乎不需要你做任何设置就能完美运行。\n如果提示你缺少Directx8，那就去下载一下，可能会顶用，但是我没有自己遇到过。\n如果你是装了什么MOD后游戏崩溃了，那就是MOD冲突、错误安装、不兼容等问题导致的，一般情况下把最近安装的MOD挨个删掉就能筛查出问题来。我的个人经验如下：\n双击gta_sa.exe运行，游戏干脆进不去：安装的MOD与游戏版本不合或MOD冲突，解决办法是更换游戏版本或放弃使用MOD； 读取存档时卡死闪退：存档与游戏版本不合，或MOD之间有冲突； 进入存档的瞬间卡死闪退：99%是数据改错了或者模型出错了； 游戏过程中卡死闪退：如果是游戏刷出的东西太多了就是mem爆了，解决办法安装limit adjuster补丁，如果是到了特定时间地点才死，解决方法检查模型音效等安装是否正确； 其实还有各种离奇问题，最好的办法就是把刚刚装上的MOD挨个去掉。但是还有例外，就是电脑系统更新导致的，这种问题非常少但是我也遇到过，至今不知道怎么办最好。\n推荐工具教程 这里推荐几个GTA资源网站，部分需要翻墙，推荐度递减排序：\nwww.gtainside.com\ngamemodding.com\nmod.3dmgame.com\nvcdiguo.ysepan.com\nwww.moddb.com\nwww.igta.vip\nwww.mixmods.com.br\ngtaforums.com\n所有提到的工具都在我的群里有（文章末尾）。\nCLEO4主程序 它存在的意义就是指着cleo文件夹和根目录，在游戏启动时告诉游戏“你还得额外加载这些乱七八糟的玩意”。最新的主程序应该包含：（全部放到游戏目录就算安装完成）\n那个cleo文件夹就是将来放入.cs文件的地方。\nMODLoader 就是MOD挂载器，它存在的意义就是让你不必为SA特殊的游戏编码发愁。\n例如我要把HuTao.dff放入gta3.img，你可能需要一个IMG TOOL来编辑游戏原有的那个gta3.img。但是有挂载器的话，你只需要在modloader文件夹里新建一个文件夹（可以命名为gta3.img，一般情况下没有别的讲究），把HuTao.dff直接扔进这个文件夹就可以了。\n挂载器会根据你放入modloader文件夹里的东西，在游戏运行过程中实时地替换掉原有文件。其他文件也是同理，一般MOD的附带说明会告诉你把哪些东西扔进modloader，你乖乖照做就行。\nMODLoader一般用于替换游戏模型、游戏音乐音效、数据文件，当然它的能力不止这些就是了。\n这是我的modloader里放的东西：\n经过前面那么多铺垫，你肯定已经知道每个文件夹里面放了什么东西了罢！\n比如这是gta3.img里我放的东西：\n比如这是data里我放的东西：\n看到这里你应该已经明白，modloader让我们安装mod时避免直接修改游戏原文件，既简便又安全。\nPED查看器 这个东西可以查看游戏里大多数npc的信息，界面是这样：\n在里面你可以预览每个人物模型的名字长相和各种属性，用于提前确定要替换的人物。\n声音替换工具 这个东西用于把游戏音频提取出来，也能把你自己的音频做到游戏里去，软件特别简单但是兼容性一般，用到的情况比较少。\nTXD Workshop 用于查看img文件里的txd贴图，如果你没有ps之类的专业绘图软件，可以试试这个。\nIMG Editor 可以打开img文件查看和编辑里面的东西，支持批量导出导入。\nIMG工具还有以前的IMG TOOL，不过显然已经成为时代的眼泪了（哭），我不推荐。\n其他工具 DYOM是玩家DIY任务的一个程序，我试过但是不太感兴趣，诸位可以浅浅地了解一下。\n还有一些特殊的主程序例如MoonLoader，灵活使用即可，应用范围比较小，一般情况用不到。\n以上就是全部内容，更多资源和问题可以咨询Q群：如果是这篇文章也解决不了的问题，那就八成在我的能力范围外了。\n","wordCount":"203","inLanguage":"en","datePublished":"2022-07-04T18:22:32+08:00","dateModified":"2022-07-04T18:22:32+08:00","author":{"@type":"Person","name":"蝈总"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://Katock-Cricket.github.io/MyBlog/posts/gtasa/"},"publisher":{"@type":"Organization","name":"蝈蝈影视公司","logo":{"@type":"ImageObject","url":"https://Katock-Cricket.github.io/MyBlog/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://Katock-Cricket.github.io/MyBlog accesskey=h title="蝈蝈影视公司 (Alt + H)">蝈蝈影视公司</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://Katock-Cricket.github.io/MyBlog>Home</a>&nbsp;»&nbsp;<a href=https://Katock-Cricket.github.io/MyBlog/posts/>Posts</a></div><h1 class=post-title>史上最详细GTASA修改教程</h1><div class=post-description>Desc Text.</div><div class=post-meta><span title='2022-07-04 18:22:32 +0800 +0800'>July 4, 2022</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;蝈总&nbsp;|&nbsp;<a href=https://github.com/Katock-Cricket/MyBlog/content/posts/gtasa.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p><img loading=lazy src=1.png alt=r2>
<em>蕾米镇楼</em></p><p>​ 话说在前面，本教程<strong>只针对PC</strong>（我没关注过安卓，可能有差别），涵盖内容非常之大，意在尝试一劳永逸地解决所有关于GTASA的MOD安装相关问题，这么多年的老游戏了还是不断地有小白尝试搞懂怎么装各种MOD。为了容易看懂，我尽量通俗地描述。仔细看完这篇文章，我相信你的疑惑八成就解决的差不多了，即使以后还遇到其他问题也能自己尝试一些解决办法。我会分以下几个方面介绍：</p><p>​ <strong>观前提醒：任何替换操作都有可能失败，注意备份原文件！</strong></p><p>[TOC]</p><h1 id=游戏文件组成>游戏文件组成<a hidden class=anchor aria-hidden=true href=#游戏文件组成>#</a></h1><h2 id=文件类型>文件类型<a hidden class=anchor aria-hidden=true href=#文件类型>#</a></h2><ol><li><code>cfg</code>：配置文件，存放用户设置、配置数据，游戏里用于存放各种参数，例如载具速度等；</li><li><code>ide</code>：功能同cfg，存储数据参数，例如武器伤害值等；</li><li><code>dat</code>：一般系统会把它识别成媒体文件，这是因为它大多是MPG格式转换成的。但SA的dat文件也只是一种广义的配置文件，同cfg和ide，存储数据或记录；</li><li><code>ifp</code>：专属于R星公司开发游戏的文件，存储动作（动画）信息，例如人物走路姿势；</li><li><strong><code>img</code></strong>：对OS熟悉的应该知道，这是一种镜像文件，可以理解成把光盘软盘上的内容压缩归档，变成了这种数字格式。SA的img文件有压缩模型文件的，也有压缩动画文件的，可以理解成一些同类文件的压缩文件；（不要忘记SA最早是PS2平台的，有这种奇怪格式的东西并不奇怪）</li><li><code>ico/icn</code>：顾名思义图标文件；</li><li><code>ipl</code>文件：全称<code>Item Placement File</code>，专属于R星开发游戏的格式，存储各种位置信息，例如加特林的刷新地点，一般轮不着我们直接修改，一些地图MOD才会用到；</li><li><code>fxp</code>：这个我没怎么看懂，不过它是用来存储一些特效的，例如开枪的火光和爆炸等；</li><li><code>gxt</code>：字体文件；</li><li><strong><code>dff</code></strong>：一般系统会把它识别成音乐，但SA的dff是3D模型文件，像obj, ply等文件一样存储3D模型信息；</li><li><strong><code>txd</code></strong>：与dff文件配套的贴图文件</li></ol><h2 id=游戏文件>游戏文件<a hidden class=anchor aria-hidden=true href=#游戏文件>#</a></h2><p><strong>打开游戏根目录，有这样几个文件需要了解：</strong></p><p><strong>anim文件夹</strong></p><ol><li><code>anim.img</code>：存储一些动作文件，例如驾驶载具时CJ的姿势；</li><li><code>cuts.img</code>：过场动画里任务的动作文件；</li><li><code>ped.ifp</code>：一般游戏过程中CJ和NPC的姿势，例如走路；</li></ol><p><strong>audio文件夹</strong>：</p><p>这是区分完整版和阉割版的重要证据，完整版游戏有全套声音，包括过场动画和电台音乐都在audio里，而且audio占了90%的存储空间，完整版游戏至少3.8G左右；</p><ol><li><code>SFX</code>：里面的文件都是特殊编码（其实不复杂）的音效文件，一般的软件无法将其解码；</li><li><code>stream</code>：同上，它里面大部分是音乐文件和过场动画的音效；</li></ol><p><strong>data文件夹</strong>：</p><p>大部分不必深究，大型MOD都是直接覆盖，犯不着你自己去一个个修改。经常手动修改的无非如下几个</p><ol><li><code>carcols.dat/ carmods.dat/ handling.cfg/ vehicles.ide</code>：车辆数据，总体上都是牵一发而动全身的危险数据，网上有修改handling.cfg文件的教程但是不权威，<strong>我建议尽量不要自己单独改某一个文件</strong>，会引发很多乱七八糟的问题；</li><li><code>weapon.dat</code>：武器数据，建议同上，除了伤害值这些耦合性较低的参数可以自己改着玩一玩，其他不建议自己乱改；</li><li><code>*grp.dat</code>：星号代表可以有多种前缀，这种文件存储了游戏物体的刷出特性，例如什么地方什么时间会刷出什么东西来，我做《侠盗终章》大电影的时候就是修改了这类文件，达到了午夜也能刷出很多人和车发生暴动的效果；</li></ol><p><strong>models文件夹</strong>：</p><p>顾名思义它就是存储了游戏模型和贴图等文件的地方，只需要记住三个文件在这里：</p><ol><li><code>gta3.img</code>：车辆npc等常用模型</li><li><code>cutscene.img</code>：过场动画的模型</li><li><code>player.img</code>：主角的模型，包括各种服饰</li></ol><hr><h1 id=npc模型替换>NPC模型替换<a hidden class=anchor aria-hidden=true href=#npc模型替换>#</a></h1><p>通过上面的解析应该已经知道，游戏过程和过场动画用的是两套模型，非过场动画过程中的npc是一般npc</p><h2 id=一般npc的替换>一般NPC的替换<a hidden class=anchor aria-hidden=true href=#一般npc的替换>#</a></h2><p>一般NPC的模型都在gta3.img里，每个模型都包括同名的dff和txd。比如最常见的卡车司机NPC，名字是male01，那么它的模型文件就是male01.dff和male01.txd：</p><p><img loading=lazy src=2.png alt=image-20220704233022485></p><p>SA如何确定“这个模型是这个npc的模型”的呢？其实就是通过它的名字。</p><p>所以如果要将这个NPC替换成你喜欢的人物（例如胡桃），做法是这样的：想必你已经下载了胡桃的MOD，里面可以找到HuTao.dff和Hutao.txd，那就把这俩文件重命名为male01.dff和male01.txd，替换掉gta3.img中的原有文件。然后启动游戏，就能发现所有卡车司机都变成了胡桃。如何打开和修改img文件，后面的工具介绍有。</p><h2 id=过场动画的替换>过场动画的替换<a hidden class=anchor aria-hidden=true href=#过场动画的替换>#</a></h2><p>过场动画的模型都在cutscene,img里，如果你打开这个img就会发现大部分模型都有cs前缀，是cutscene的缩写。这里有一个不太广泛但是可以记一下的规律，就是对于过场动画和一般场景下都出现过的npc，他们的名字往往都只有一个“cs”前缀的差别，例如斯威特在gta3.img里叫sweet.dff/txd，在cutscene.img里就叫cssweet.dff/txd。当然也有不少例外，比如大结局里穿防弹衣的斯莫克，在gta3.img里叫smokev.dff/txd，在cutscene.img里就成了cssmokevest.dff/txd。</p><p>过场动画和一般过程用的模型有一点差别，有时候是无法通用同一个mod的。一般过程的模型兼容性较好，换成别的mod不容易出问题，但是过场动画不能保证。</p><h1 id=主角模型替换>主角模型替换<a hidden class=anchor aria-hidden=true href=#主角模型替换>#</a></h1><p>主角是模型替换里最复杂的一个，目前有两种办法：</p><ol><li><p>一种是某些mod就是专门针对替换主角的，他们提供的文件可能只有一个player.img，那这就比较简单了，直接替换原来的player.img就完事儿，但是网上支持这样做的MOD非常少，所以我们接下来的讨论都是针对另一种方法的；</p></li><li><p>另一种是借助更换人物cleo和一对dff/txd文件，实现用一个简单模型替换掉复杂的主角模型。</p></li></ol><p>但是能否替换掉过场动画里主角的模型，还是取决于更换人物cleo的功能，因为单纯的替换游戏dff/txd模型是难以修改过场动画的主角的。这方面的cleo可以来我群里拿。（文末）</p><hr><h1 id=车辆模型替换>车辆模型替换<a hidden class=anchor aria-hidden=true href=#车辆模型替换>#</a></h1><p>车辆模型也是由dff和txd组成的，而且基本都在gta3.img里，替换起来并不复杂。而且在游戏过程中，主角登上一辆载具的同时，右下角会显示载具的名字，90%的载具文件名和本身的名字是一样的。</p><p>对车辆MOD感兴趣的可以专门背一背车辆表，每一个车辆都有自己的编号和名字，例如牛肉干NRG500就是522号，九头蛇（秘籍JUMPJET）就是521号，著名的炼狱魔TURISMO就是451号。在SAMP和一些刷车器中，就是通过提供车辆编号来刷出对应车辆的。这些编号在vehicles.ide中能查到（如图）。当然贴吧也有盘点。</p><p><img loading=lazy src=3.png alt=image-20220705150555399></p><p>有一些车辆MOD会附带一个名为<code>ImVehFt</code>的文件夹，这个是车灯系统，需要安装<code>ImVehFt</code>“主程序”才能起作用。推荐工具里有教程，它是依附于cleo主程序的。</p><p>还有一些车辆MOD会附带车辆数据（往往在readme.txt里），参见下面的该数据注意事项。</p><p>（如图是同时具有ImVehFt和数据的MOD车包）</p><p><img loading=lazy src=4.png alt=image-20220705150730190></p><hr><h1 id=数据文件修改>数据文件修改<a hidden class=anchor aria-hidden=true href=#数据文件修改>#</a></h1><p>一般这种事情交给专门搞MOD的大神做就完事，我也尝试过但是并没有彻底搞明白，因为稍有不慎就容易给改废了。但是如果是自己随便改着玩玩，可以试试改如下几个属性：</p><p>在handling.cfg中，随便找到一行：</p><pre tabindex=0><code>TURISMO 1400.0 3000.0 2.0 0.0 -0.3 -0.2 70 0.75 0.85 0.45 5 240.0 30.0 10.0 4 P 	11.0  0.51 0 30.0  	1.2  0.13  0.0   0.15 -0.20 0.5  0.4 0.17 0.72 95000 40002004 C08401 1  1 1
</code></pre><p>其中容易理解的属性对应如下：</p><table><thead><tr><th>属性</th><th>数值</th><th>说明</th></tr></thead><tbody><tr><td>名字</td><td>TURISMO</td><td>车辆名字，这个不能改，用来检索的</td></tr><tr><td>重量</td><td>1400和3000</td><td><strong>大多网络资料有误</strong>，应该是由两个数据控制，越大越重，太大可能溢出</td></tr><tr><td>4-12列</td><td>2.0~0.45</td><td>车辆尺寸重心等其他数据，比较玄学，尽量不要大幅度改</td></tr><tr><td>档数</td><td>5</td><td>这车最高能挂几档，玩家的直观感受就是开车加速时车辆“嗡”的次数</td></tr><tr><td>最高速</td><td>240</td><td>最高时速，可以改到365试试，这个速度你已经把握不住了，别太贪心</td></tr><tr><td>加速度</td><td>30和10</td><td><strong>大多网络资料有误</strong>，应该是由两个数据控制，可以改到四五十试试</td></tr><tr><td>驱动</td><td>4</td><td>F前驱，R后驱，4四驱，没有别的选项，四驱是手感最舒服的</td></tr><tr><td>发动机</td><td>P</td><td>P汽油机，D柴油机，E电动机，汽油就行，柴油可能有抖动</td></tr><tr><td>…</td><td>其他数据</td><td>刹车性能、刹车偏向、悬挂等参数，我没研究了，自行研究吧</td></tr></tbody></table><hr><h1 id=画质补丁安装>画质补丁安装<a hidden class=anchor aria-hidden=true href=#画质补丁安装>#</a></h1><p>所有MOD里，画质补丁是最容易安装失败的，画质补丁增加和替换了很多文件。</p><p>一方面是因为SA也有版本的区别，不同版本的SA对同一画质补丁兼容性不一样，可能别人能用的画质补丁到你这干脆打不开游戏；</p><p>一方面是因为电脑性能不同，高级一些的画质补丁会对电脑硬件配置提出很高的要求，其中材质包吃显存、光影特效吃运算，可能你下好了画质补丁但是又会因为太卡就后悔了；</p><p>另一方面是因为宣传和实际效果往往不一样，每一个画质补丁都有自己的缺点，就看你能不能接受了。</p><p>我个人的理解是，SA画质补丁就是往老引擎添加新东西，是一种极度牺牲优化的做法，所以不要指望有又流畅又华丽的画质补丁。</p><p>以我的个人经验，如果要畅玩全网90%的画质补丁，你需要具备7代i7及以上的CPU，GTX1060/1650及以上的显卡，游戏最好装在固态硬盘上。我个人不太喜欢玩画质补丁，只是偶尔作一下死。</p><p>安装方面，一般画质补丁都给你整理好了，直接把里面的东西覆盖到原目录就行，但是记得备份！</p><hr><h1 id=其他内容替换>其他内容替换<a hidden class=anchor aria-hidden=true href=#其他内容替换>#</a></h1><h2 id=音乐音效>音乐音效<a hidden class=anchor aria-hidden=true href=#音乐音效>#</a></h2><p>这方面的替换并不多见，而且现成的MOD也不多，不过我也说一下怎么换吧。</p><p>这种MOD分两种，一种是直接发给你编码完成的音轨，直接替换掉原有文件就行，记得备份；（如图这种）</p><p><img loading=lazy src=5.png alt=image-20220705161637155></p><p>另一种是提供给你wav或ogg文件，你要么得用挂载器，要么得用音频转换工具把它重新编码然后替换原文件。（如图这种注意看目录结构）</p><p><img loading=lazy src=6.png alt=image-20220705161758200></p><h2 id=一般的cleo或补丁>一般的CLEO或补丁<a hidden class=anchor aria-hidden=true href=#一般的cleo或补丁>#</a></h2><p>CLEO就是扩展脚本，每个cleo都包含了一个.cs文件，用于修改一些游戏运行机制，例如一键回血。装好CLEO主程序后把cs文件放入游戏目录的cleo文件夹就完事，可能还有一些fxt文件，放到cleo/cleo_text里就完事。</p><p>一般的补丁可能是asi、dat、dll文件，在游戏开始启动时提供额外的加载项，把他们放到游戏目录就完事，前提是要有CLEO主程序。</p><hr><h1 id=运行疑难解答>运行疑难解答<a hidden class=anchor aria-hidden=true href=#运行疑难解答>#</a></h1><p>如果你的SA是什么都没改过的纯净版，然后在电脑上运行不了，这种问题是系统兼容性问题，尝试一下这样设置：如果还不行的话建议换一个版本的SA，兼容性好的版本几乎不需要你做任何设置就能完美运行。</p><p><img loading=lazy src=7.png alt=image-20220705162624250></p><p>如果提示你缺少Directx8，那就去下载一下，可能会顶用，但是我没有自己遇到过。</p><p>如果你是装了什么MOD后游戏崩溃了，那就是MOD冲突、错误安装、不兼容等问题导致的，一般情况下把最近安装的MOD挨个删掉就能筛查出问题来。我的个人经验如下：</p><ol><li>双击gta_sa.exe运行，游戏干脆进不去：安装的MOD与游戏版本不合或MOD冲突，解决办法是更换游戏版本或放弃使用MOD；</li><li>读取存档时卡死闪退：存档与游戏版本不合，或MOD之间有冲突；</li><li>进入存档的瞬间卡死闪退：99%是数据改错了或者模型出错了；</li><li>游戏过程中卡死闪退：如果是游戏刷出的东西太多了就是mem爆了，解决办法安装limit adjuster补丁，如果是到了特定时间地点才死，解决方法检查模型音效等安装是否正确；</li></ol><p>其实还有各种离奇问题，最好的办法就是把刚刚装上的MOD挨个去掉。但是还有例外，就是电脑系统更新导致的，这种问题非常少但是我也遇到过，至今不知道怎么办最好。</p><hr><h1 id=推荐工具教程>推荐工具教程<a hidden class=anchor aria-hidden=true href=#推荐工具教程>#</a></h1><p>这里推荐几个GTA资源网站，部分需要翻墙，推荐度递减排序：</p><blockquote><p><a href=https://www.gtainside.com>www.gtainside.com</a></p><p>gamemodding.com</p><p>mod.3dmgame.com</p><p>vcdiguo.ysepan.com</p><p><a href=https://www.moddb.com>www.moddb.com</a></p><p><a href=https://www.igta.vip>www.igta.vip</a></p><p><a href=https://www.mixmods.com.br>www.mixmods.com.br</a></p><p>gtaforums.com</p></blockquote><p>所有提到的工具都在我的群里有（文章末尾）。</p><h2 id=cleo4主程序>CLEO4主程序<a hidden class=anchor aria-hidden=true href=#cleo4主程序>#</a></h2><p>它存在的意义就是指着cleo文件夹和根目录，在游戏启动时告诉游戏“你还得额外加载这些乱七八糟的玩意”。最新的主程序应该包含：（全部放到游戏目录就算安装完成）</p><p><img loading=lazy src=8.png alt=image-20220705165453039></p><p>那个cleo文件夹就是将来放入.cs文件的地方。</p><h2 id=modloader>MODLoader<a hidden class=anchor aria-hidden=true href=#modloader>#</a></h2><p>就是MOD挂载器，它存在的意义就是让你不必为SA特殊的游戏编码发愁。</p><p>例如我要把HuTao.dff放入gta3.img，你可能需要一个IMG TOOL来编辑游戏原有的那个gta3.img。但是有挂载器的话，你只需要在modloader文件夹里新建一个文件夹（可以命名为gta3.img，一般情况下没有别的讲究），把HuTao.dff直接扔进这个文件夹就可以了。</p><p>挂载器会根据你放入modloader文件夹里的东西，在游戏运行过程中实时地替换掉原有文件。其他文件也是同理，一般MOD的附带说明会告诉你把哪些东西扔进modloader，你乖乖照做就行。</p><p>MODLoader一般用于替换游戏模型、游戏音乐音效、数据文件，当然它的能力不止这些就是了。</p><p>这是我的modloader里放的东西：</p><p><img loading=lazy src=9.png alt=image-20220705170332645></p><p>经过前面那么多铺垫，你肯定已经知道每个文件夹里面放了什么东西了罢！</p><p>比如这是gta3.img里我放的东西：</p><p><img loading=lazy src=10.png alt=image-20220705170445529></p><p>比如这是data里我放的东西：</p><p><img loading=lazy src=11.png alt=image-20220705170506927></p><p>看到这里你应该已经明白，modloader让我们安装mod时避免直接修改游戏原文件，既简便又安全。</p><h2 id=ped查看器>PED查看器<a hidden class=anchor aria-hidden=true href=#ped查看器>#</a></h2><p>这个东西可以查看游戏里大多数npc的信息，界面是这样：</p><p><img loading=lazy src=12.png alt=image-20220705170932224></p><p>在里面你可以预览每个人物模型的名字长相和各种属性，用于提前确定要替换的人物。</p><h2 id=声音替换工具>声音替换工具<a hidden class=anchor aria-hidden=true href=#声音替换工具>#</a></h2><p>这个东西用于把游戏音频提取出来，也能把你自己的音频做到游戏里去，软件特别简单但是兼容性一般，用到的情况比较少。</p><p><img loading=lazy src=13.png alt=image-20220705171201265></p><h2 id=txd-workshop>TXD Workshop<a hidden class=anchor aria-hidden=true href=#txd-workshop>#</a></h2><p>用于查看img文件里的txd贴图，如果你没有ps之类的专业绘图软件，可以试试这个。</p><p><img loading=lazy src=14.png alt=image-20220705171400621></p><h2 id=img-editor>IMG Editor<a hidden class=anchor aria-hidden=true href=#img-editor>#</a></h2><p>可以打开img文件查看和编辑里面的东西，支持批量导出导入。</p><p><img loading=lazy src=15.png alt=image-20220705171539376></p><p>IMG工具还有以前的IMG TOOL，不过显然已经成为时代的眼泪了（哭），我不推荐。</p><h2 id=其他工具>其他工具<a hidden class=anchor aria-hidden=true href=#其他工具>#</a></h2><p>DYOM是玩家DIY任务的一个程序，我试过但是不太感兴趣，诸位可以浅浅地了解一下。</p><p>还有一些特殊的主程序例如MoonLoader，灵活使用即可，应用范围比较小，一般情况用不到。</p><p>以上就是全部内容，更多资源和问题可以咨询Q群：如果是这篇文章也解决不了的问题，那就八成在我的能力范围外了。</p><p><img loading=lazy src=16.jpg alt=0e60be482a8f66c8db1a9a52ce4ddf9></p><p><img loading=lazy src=17.jpg alt=b6c35f21848668c5382f81fd4fd5cb1></p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=next href=https://Katock-Cricket.github.io/MyBlog/posts/os5/><span class=title>Next Page »</span><br><span>OS笔记5：IO系统</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://Katock-Cricket.github.io/MyBlog>蝈蝈影视公司</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>